version: "1"
mode: solo

scopes:
  - path: "apps/web"
    include: ["**/*.ts", "**/*.tsx"]
    exclude: ["**/*.test.ts", "**/*.test.tsx"]
    rulesets: ["base-rules", "nextjs-rules"]

  - path: "packages/api"
    include: ["**/*.ts"]
    exclude: ["**/*.test.ts"]
    rulesets: ["base-rules", "node-rules"]

  - path: "services/worker"
    include: ["**/*.py"]
    exclude: ["**/*_test.py"]
    rulesets: ["base-rules", "python-rules"]

  - path: "services/ml"
    include: ["**/*.py", "**/*.ipynb"]
    exclude: ["**/*_test.py"]
    rulesets: ["base-rules", "python-rules", "jupyter-rules"]

merge:
  strategy: "deep"
  order: ["root", "path", "local"]

exporters:
  - agents-md
  - cursor
